@import compass/css3

$width : 315px
$mwidth : 200px
$height : 300px
$mheight : 200px
=block()
  position : relative
  +box-sizing(border-box)
  +inline-block
  width : 100%
.container
  +transition(all 200ms ease-out)
  +box-shadow( 5px 5px 15px rgba(0,0,0,0.6))
  +block
  width     : $width
  .back
    z-index : 10000
    +block
    .photos
      +block
      .block
        +block
      .unknown
        height : $height
        .img
          height : 100%
          background : url(F('registration/camera_big.png'))
          background-color : rgba(0,0,0,0.1)
          background-size : $width/1.5
          background-position : $width/6
          background-repeat : no-repeat
  .front
    +transition(all 200ms ease-out)
    z-index : 10001
    +block
    overflow : hidden
    position : absolute
    top : 0
    left : 0
    width : 100%
    height : 101%
    .input_wrap,.load_text,.remove_photo
      +transition(all 200ms ease-out)
      +block
      z-index : 10002
      position : absolute
      top : 0
      left : 0
      width : 100%
      height : 100%
    .load_text
      text-align : center
      background : rgba(0,0,0,0.7)
      color : rgba(255,255,255,0.7)
      height : 25px
      line-height : 25px
      font-size : 13px
      font-weight : bold
      top : auto
      bottom : -25px
    .remove_photo
      cursor : pointer
      z-index : 10004
      left : auto
      right : 0
      top : 0
      background : rgba(0,0,0,0.8)
      background-image : url(F('calendar_delete_sign.png'))
      background-size : 8px
      background-position : 6px
      background-repeat : no-repeat
      opacity : 0
      width : 20px
      height : 20px
      border-radius : 2px
    .input_wrap
      z-index : 10003
      .input
        +block
        cursor : pointer
        height : 100%
        width  : 100%
        opacity : 0
.container:hover
  +box-shadow( 5px 5px 15px rgba(0,0,0,0.8))
  +transform(scale(0.999))// translate(1px,1px))
  .front
    background : rgba(0,0,0,0.01)
    +box-shadow( inset 0 0 10px rgba(0,0,0,0.1))
    .load_text
      color : rgba(255,255,255,0.9)
      bottom : -1px
    .remove_photo
      opacity : 0.7
.container:active
  +transform(scale(0.995) translate(1px,1px))
  
.container .front .remove_photo:hover
  opacity : 1

.container[min=min]
  width     : $mwidth
  .back
    .photos
      .unknown
        height : $mheight
        .img
          background-size : $mwidth/1.5
          background-position : $mwidth/6

//.photo:hover
  .photo
    +box-shadow( 0 0 30px rgba(0,0,0,0.6))
    div
      background : rgba(0,0,0,0.01)
      +box-shadow( inset 0 0 10px rgba(0,0,0,0.1))
        

//.photo
  position : relative
  width: $width
  height: 100%
  +inline-block
  $photo_src: 'registration/plus.png'
  $photo_height: image-height($photo_src)
  $photo_width: image-width($photo_src)
  .plus
    float: left
    width: $photo_width
    height: $photo_height
    background: url(F($photo_src)) no-repeat
  $photo_src: 'registration/camera_big.png'
  $photo_height: image-height($photo_src)
  $photo_width: image-width($photo_src)
  .camera_big
    overflow: hidden
    width: 200px
    height: 200px
    margin: 15px 0 0 50px
    border-radius: 50%
    background-color: rgb( 228, 228, 228 )
    .big_photo
      width: $photo_width
      height: $photo_height
      position: relative
      top: 50%
      margin: -$photo_height/2 auto 0 auto
      background: url(F($photo_src)) no-repeat
  $photo_src: 'registration/camera_small.png'
  $photo_height: image-height($photo_src)
  $photo_width: image-width($photo_src)
  .camera_small
    overflow: hidden
    width: 60px
    height: 60px
    float: right
    margin-top: -60px
    border-radius: 50%
    background-color: rgb( 228, 228, 228 )
    .small_photo
      width: $photo_width
      height: $photo_height
      position: relative
      top: 50%
      margin: -$photo_height/2 auto 0 auto
      background: url(F($photo_src)) no-repeat

//.photo
  .input
    position : absolute
    left : 0
    top  : 0
    width : 100%
    height : 100%
    z-index : 10001
    input
      position : relative
      opacity : 0
      cursor : pointer
      left  : 0
      top : 0
      width : 100%
      height : 100%
  .photo
    +box-shadow( 0 0 20px rgba(0,0,0,0.2))
    position : relative
    left : 0
    top  : 0
    img
      position : relative
      left : 0
      top : 0
      width : 100%
    div
      position : absolute
      top : 0
      left : 0
      background : rgba(0,0,0,0)
      width : 100%
      height : 100%
      z-index : 1000
//.photo:hover
  .photo
    +box-shadow( 0 0 30px rgba(0,0,0,0.6))
    div
      background : rgba(0,0,0,0.01)
      +box-shadow( inset 0 0 10px rgba(0,0,0,0.1))

      
//- ----------------------------------------------------------------------------
